<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <link rel="stylesheet" href="scanner.css">
    <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
    rel = "stylesheet">
 <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
 <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <title>Document</title>

       <!-- CSS -->
       <style>
        .ui-widget-header,.ui-state-default, ui-button {
           background:#b9cd6d;
           border: 1px solid #b9cd6d;
           color: #FFFFFF;
           font-weight: bold;
        }
     </style>
     
     <!-- Javascript -->
     <script>
        $(function() {
           $( "#dialog-2" ).dialog({
              autoOpen: false, 
              buttons: {
                 OK: function() {$(this).dialog("close");}
              },
              title: "Scanner",
              position: {
                 my: "center",
                 at: "center"
              }
           });
           $( "#opener-2" ).click(function() {
              $( "#dialog-2" ).dialog( "open" );
           });
        });

        
        
        function scanBarCode() {
            const reader = document.getElementById('reader');
            reader.style.display = "block";
            if (reader !== null) {

                const html5QrCode = new Html5Qrcode("reader");
                const qrCodeSuccessCallback = (decodedText, decodedResult) => {
                    html5QrCode.stop()

                };
                const config = { fps: 100, qrbox: { width: 300, height: 300 } };
                html5QrCode.start({ facingMode: { exact: "environment" } }, config, qrCodeSuccessCallback);
            }
        }

     </script>

</head>
<body>

      <!-- HTML --> 
      <div id = "dialog-2" class="dialog" title = "Dialog Title goes here...">
        <div id="">
            <button onclick="scanBarCode()">Scan</button>
        </div>
        <div id="reader" class="scannerStyle"></div>
    </div>
      <button id = "opener-2">Open Dialog</button>
   

    <script></script>
</body>
</html>